{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _defineProperty from\"C:/Users/\\u90ED\\u6653\\u98DE/Desktop/Edu/Education_nformation_platform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"C:/Users/\\u90ED\\u6653\\u98DE/Desktop/Edu/Education_nformation_platform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/\\u90ED\\u6653\\u98DE/Desktop/Edu/Education_nformation_platform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/\\u90ED\\u6653\\u98DE/Desktop/Edu/Education_nformation_platform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/\\u90ED\\u6653\\u98DE/Desktop/Edu/Education_nformation_platform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/\\u90ED\\u6653\\u98DE/Desktop/Edu/Education_nformation_platform/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{PureComponent}from'react';import PubSub from'pubsub-js';import{addClass,deleClass}from'../../../func/toggleClass';import'./css/index.css';var SingbieBox=/*#__PURE__*/function(_PureComponent){_inherits(SingbieBox,_PureComponent);var _super=_createSuper(SingbieBox);function SingbieBox(){var _this;_classCallCheck(this,SingbieBox);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.singleBoxFocus=function(index,arr){var _assertThisInitialize=_assertThisInitialized(_this),_assertThisInitialize2=_assertThisInitialize.props,singleBoxName=_assertThisInitialize2.singleBoxName,singleBoxFocusValue=_assertThisInitialize2.singleBoxFocusValue;return function(){arr.map(function(value,index1){if(index1===index){var data=_defineProperty({},singleBoxName,value);singleBoxFocusValue(data);return addClass(_this[index1],'single-box-foucs');}else{return deleClass(_this[index1],'single-box-foucs');}});};};return _this;}_createClass(SingbieBox,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// 订阅创建班级表单提交成功事件\nthis.token=PubSub.subscribe('initVuale',function(){var date=_this2.props.data;date.map(function(value,index){return deleClass(_this2[index],'single-box-foucs');});});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){// 取消订阅\nPubSub.unsubscribe(this.token);}// 单选框点击回调\n// 判断元素是否被点击，是则改变classnanme\n},{key:\"render\",value:function render(){var _this3=this;var date=this.props.data;return/*#__PURE__*/_jsx(\"div\",{className:\"single-box\",children:date.map(function(value,index,arr){return/*#__PURE__*/_jsxs(\"div\",{onClick:_this3.singleBoxFocus(index,arr),ref:function ref(e){return _this3[index]=e;},children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"a\",{onClick:function onClick(event){return event.preventDefault();},href:\"/#\",children:value})]},index);})});}}]);return SingbieBox;}(PureComponent);SingbieBox.defaultProps={//设置prop的默认值\ndata:['选项1','选项2','选项3','选项4']};export{SingbieBox as default};","map":{"version":3,"sources":["C:/Users/郭晓飞/Desktop/Edu/Education_nformation_platform/src/components/commom/SingleBox/index.jsx"],"names":["React","PureComponent","PubSub","addClass","deleClass","SingbieBox","singleBoxFocus","index","arr","props","singleBoxName","singleBoxFocusValue","map","value","index1","data","token","subscribe","date","unsubscribe","e","event","preventDefault","defaultProps"],"mappings":"ksCAAA,MAAOA,CAAAA,KAAP,EAAgBC,aAAhB,KAAqC,OAArC,CAEA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CAEA,OACEC,QADF,CAEEC,SAFF,KAGO,2BAHP,CAIA,MAAO,iBAAP,C,GAEqBC,CAAAA,U,mVA0BnBC,c,CAAiB,SAACC,KAAD,CAAQC,GAAR,CAAgB,sGACvBC,KADuB,CACdC,aADc,wBACdA,aADc,CACCC,mBADD,wBACCA,mBADD,CAE/B,MAAO,WAAM,CACXH,GAAG,CAACI,GAAJ,CAAQ,SAACC,KAAD,CAAQC,MAAR,CAAmB,CACzB,GAAIA,MAAM,GAAKP,KAAf,CAAsB,CACpB,GAAMQ,CAAAA,IAAI,oBAAML,aAAN,CAAsBG,KAAtB,CAAV,CACAF,mBAAmB,CAACI,IAAD,CAAnB,CACA,MAAOZ,CAAAA,QAAQ,CAAC,MAAKW,MAAL,CAAD,CAAe,kBAAf,CAAf,CACD,CAJD,IAIO,CACL,MAAOV,CAAAA,SAAS,CAAC,MAAKU,MAAL,CAAD,CAAe,kBAAf,CAAhB,CACD,CACF,CARD,EASD,CAVD,CAWD,C,mGA3BmB,iBAClB;AACD,KAAKE,KAAL,CAAad,MAAM,CAACe,SAAP,CAAiB,WAAjB,CAA8B,UAAM,CAC9C,GAAMC,CAAAA,IAAI,CAAG,MAAI,CAACT,KAAL,CAAWM,IAAxB,CACAG,IAAI,CAACN,GAAL,CAAS,SAACC,KAAD,CAAQN,KAAR,QAAkBH,CAAAA,SAAS,CAAC,MAAI,CAACG,KAAD,CAAL,CAAc,kBAAd,CAA3B,EAAT,EACD,CAHW,CAAb,CAIA,C,mEAEqB,CACpB;AACAL,MAAM,CAACiB,WAAP,CAAmB,KAAKH,KAAxB,EACD,CACD;AACA;uCAgBS,iBACP,GAAME,CAAAA,IAAI,CAAG,KAAKT,KAAL,CAAWM,IAAxB,CACA,mBACE,YAAK,SAAS,CAAC,YAAf,UAEIG,IAAI,CAACN,GAAL,CAAS,SAACC,KAAD,CAAQN,KAAR,CAAeC,GAAf,CAAuB,CAC9B,mBAAO,aAAK,OAAO,CAAE,MAAI,CAACF,cAAL,CAAoBC,KAApB,CAA2BC,GAA3B,CAAd,CAA+C,GAAG,CAAE,aAAAY,CAAC,QAAI,CAAA,MAAI,CAACb,KAAD,CAAJ,CAAca,CAAlB,EAArD,wBAAwF,eAAxF,cAAqG,UAAG,OAAO,CAAE,iBAAAC,KAAK,QAAIA,CAAAA,KAAK,CAACC,cAAN,EAAJ,EAAjB,CAA6C,IAAI,CAAC,IAAlD,UAAwDT,KAAxD,EAArG,GAA+EN,KAA/E,CAAP,CACD,CAFD,CAFJ,EADF,CAUD,C,wBArDqCN,a,EAAnBI,U,CAQZkB,Y,CAAe,CAAC;AACrBR,IAAI,CAAE,CAAC,KAAD,CAAQ,KAAR,CAAe,KAAf,CAAsB,KAAtB,CADc,C,QARHV,U","sourcesContent":["import React, { PureComponent } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport PubSub from 'pubsub-js'\r\n\r\nimport {\r\n  addClass,\r\n  deleClass,\r\n} from '../../../func/toggleClass'\r\nimport './css/index.css'\r\n\r\nexport default class SingbieBox extends PureComponent {\r\n\r\n\r\n  static propTypes = {\r\n    singleBoxName: PropTypes.string,//作为react-redux action 的 key\r\n    data: PropTypes.array,//单选框的选项\r\n\r\n  }\r\n  static defaultProps = {//设置prop的默认值\r\n    data: ['选项1', '选项2', '选项3', '选项4']\r\n  }\r\n\r\n  componentDidMount() {\r\n    // 订阅创建班级表单提交成功事件\r\n   this.token = PubSub.subscribe('initVuale', () => {\r\n      const date = this.props.data\r\n      date.map((value, index) => deleClass(this[index], 'single-box-foucs'))\r\n    })\r\n  }\r\n\r\n  componentWillUnmount(){\r\n    // 取消订阅\r\n    PubSub.unsubscribe(this.token)\r\n  }\r\n  // 单选框点击回调\r\n  // 判断元素是否被点击，是则改变classnanme\r\n  singleBoxFocus = (index, arr) => {\r\n    const { props: { singleBoxName, singleBoxFocusValue } } = this\r\n    return () => {\r\n      arr.map((value, index1) => {\r\n        if (index1 === index) {\r\n          const data = { [singleBoxName]: value }\r\n          singleBoxFocusValue(data)\r\n          return addClass(this[index1], 'single-box-foucs')\r\n        } else {\r\n          return deleClass(this[index1], 'single-box-foucs')\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const date = this.props.data\r\n    return (\r\n      <div className=\"single-box\">\r\n        {\r\n          date.map((value, index, arr) => {\r\n            return <div onClick={this.singleBoxFocus(index, arr)} ref={e => this[index] = e} key={index}  ><span></span><a onClick={event => event.preventDefault()} href='/#'>{value}</a></div>\r\n          })\r\n        }\r\n\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}