{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\\\u90ED\\u6653\\u98DE\\\\Desktop\\\\Edu\\\\Education_nformation_platform\\\\src\\\\page\\\\Set\\\\Class\\\\Create\\\\index.jsx\";\nimport React, { Component } from 'react';\nimport PubSub from 'pubsub-js';\nimport { addClass, deleClass } from '../../../../func/toggleClass';\nimport BackClassBtn from '../../../../components/content/BackClassBtn';\nimport SingleBox from '../../../../containers/SingleBox';\nimport DropDowm from '../../../../containers/DropDowm';\nimport './css/index.css';\nexport default class CreateClass extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      newClass: {\n        students: 0,\n        headmaster: '田小雨'\n      },\n      schoolIstrue: false,\n      //学校inpt框输入内容是否合法\n      classIstrue: false,\n      //课程inpt框输入内容是否合法\n      display: '',\n      width: '',\n      height: ''\n    };\n    this.schoolRef = /*#__PURE__*/React.createRef();\n    this.schoolChildRef = /*#__PURE__*/React.createRef();\n    this.classRef = /*#__PURE__*/React.createRef();\n    this.classChildRef = /*#__PURE__*/React.createRef();\n\n    this.schoolInptChange = () => {\n      const {\n        schoolRef,\n        schoolRef: {\n          current: {\n            value\n          }\n        },\n        schoolChildRef,\n        props: {\n          setSchoolValue\n        }\n      } = this;\n      const reg = new RegExp('^[\\u4e00-\\u9fa5 ]{4,20}$|^[A-z ]{5,50}$', 'g');\n      let str = value; // 去除中间多余的空格\n\n      str = str.replace(/\\s{2,}/g, \" \"); // 去除首尾的空格\n\n      str = str.replace(/^\\s*|\\s*$/g, \"\"); // 纠正非法输入\n\n      schoolRef.current.value = str; // console.log(schoolRef.current.value);\n\n      const reslt = reg.test(str);\n\n      if (!Boolean(reslt)) {\n        // 显示输入错误提示\n        deleClass(schoolChildRef.current, 'school-true-tips');\n        deleClass(schoolChildRef.current, 'school-tips-hide');\n        setSchoolValue({\n          school: value\n        }); //表单验证 错误名称\n        // 更改旗帜\n\n        this.setState({\n          schoolIstrue: false\n        });\n      } else {\n        // 显示正确图标\n        // deleClass(schoolChildRef.current, 'school-tips-false')\n        addClass(schoolChildRef.current, 'school-true-tips'); // 将数据保存在store\n\n        setSchoolValue({\n          school: value\n        }); // 更改旗帜\n\n        this.setState({\n          schoolIstrue: true\n        });\n      }\n    };\n\n    this.classInptChange = () => {\n      const {\n        classRef,\n        classRef: {\n          current: {\n            value\n          }\n        },\n        classChildRef,\n        props: {\n          setClassValue\n        }\n      } = this;\n      const reg = /^[\\u4e00-\\u9fa5A-z0-9 ]{5,20}$/g;\n      let str = value; // 去除中间多余的空格\n\n      str = str.replace(/\\s{2,}/g, \" \"); // 去除首尾的空格\n\n      str = str.replace(/^\\s*|\\s*$/g, \"\"); //去除_和%\n\n      str = str.replace(/[_%]/g, ''); // 纠正非法输入\n\n      classRef.current.value = str;\n      const reslt = reg.test(str);\n\n      if (!reslt) {\n        // 显示输入错误提示\n        deleClass(classChildRef.current, 'course-tips-true');\n        deleClass(classChildRef.current, 'course-tips-hide');\n        setClassValue({\n          course: value\n        }); //表单验证 错误名称\n\n        this.setState({\n          classIstrue: false\n        });\n      } else {\n        // 显示正确图标\n        // deleClass(classChildRef.current, 'course-tips-false')\n        addClass(classChildRef.current, 'course-tips-true');\n        setClassValue({\n          course: value\n        });\n        this.setState({\n          classIstrue: true\n        });\n      }\n    };\n\n    this.saveData = e => {\n      // 取消按钮默认点击事件\n      e.preventDefault(); // console.log(this.props)\n\n      const {\n        props: {\n          createClass,\n          createClass: {\n            school,\n            course\n          },\n          dropDowm,\n          dropDowm: {\n            section,\n            grade\n          },\n          singleBox,\n          singleBox: {\n            classType,\n            exitPermissions\n          }\n        },\n        state: {\n          newClass,\n          schoolIstrue,\n          classIstrue\n        },\n        schoolRef,\n        classRef,\n        schoolChildRef,\n        classChildRef\n      } = this;\n      const resl = { ...newClass,\n        ...createClass,\n        ...singleBox,\n        ...dropDowm\n      };\n      this.setState({\n        newClass: resl\n      }, () => {\n        // console.log(this.state.newClass);\n        // console.log(school);\n        // console.log(course);\n        // console.log(section);\n        // console.log(grade);\n        // console.log(classType);\n        // console.log(exitPermissions);\n        // 表单验证\n        if (!schoolIstrue) {\n          alert(`学校名称 ${school === undefined ? '为空' : `${school}不正确`} 请重新输入`);\n        } else if (section === undefined) {\n          alert('请选择学段');\n        } else if (grade === undefined) {\n          alert('请选择年级');\n        } else if (!classIstrue) {\n          alert(`班级名称 ${course === undefined ? '为空' : `${course}不正确`} 请重新输入`);\n        } else if (classType === undefined) {\n          alert('请选择班级类型');\n        } else if (exitPermissions === undefined) {\n          alert('退出权限未设置');\n        } else {\n          // PubSub.publish('createClass', this.state.newClass)\n          schoolRef.current.value = '';\n          classRef.current.value = '';\n          addClass(classChildRef.current, 'course-tips-hide');\n          addClass(schoolChildRef.current, 'school-tips-hide');\n          this.setState({\n            display: \"block\"\n          });\n          this.timer = setInterval(() => {\n            this.setState({\n              width: e.view.innerWidth\n            });\n            this.setState({\n              height: e.view.innerHeight\n            });\n          }, 100);\n          console.log(school, course);\n        }\n      });\n    };\n\n    this.backlCass = e => {\n      e.preventDefault();\n      const {\n        push\n      } = this.props.history;\n      push('/class'); // 停止计时器\n\n      clearInterval(this.timer);\n    };\n\n    this.continueClick = e => {\n      const {\n        setClassValue,\n        setSchoolValue\n      } = this.props;\n      e.preventDefault();\n      this.setState({\n        display: 'none'\n      });\n      setSchoolValue({\n        school: undefined\n      });\n      setClassValue({\n        course: undefined\n      });\n      console.log(school, course); // 停止计时器\n\n      clearInterval(this.timer);\n    };\n  }\n\n  render() {\n    const classType = ['行政班', '教学班'];\n    const exitPermissions = ['允许退出', '通知班级管理员审核后退出', '禁止退出'];\n    const grade = ['年级', '一年级', '二年级', '三年级', '四年级'];\n    const section = ['学段', '小学', '初中', '高中', '大学'];\n    const {\n      saveData,\n      classInptChange,\n      schoolInptChange,\n      backlCass,\n      continueClick,\n      state: {\n        display,\n        width,\n        height\n      }\n    } = this;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"class-create-totabar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contenter-top-nav-bar\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"route-title\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"\\u6211\\u7684\\u73ED\\u7EA7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BackClassBtn, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"class-create-bar\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"create-tip\",\n            children: [\"\\u5C0A\\u656C\\u7684\", /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u8001\\u5E08(\\u5218\\u8001\\u5E08)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 42\n            }, this), \"\\uFF0C\\u8BF7\\u586B\\u5199\\u73ED\\u7EA7\\u4FE1\\u606F\\uFF1A\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            action: \"\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"school\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                children: \"\\u5B66\\u6821\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                ref: this.schoolRef,\n                onChange: schoolInptChange,\n                type: \"text\",\n                placeholder: \"\\u8BF7\\u9009\\u62E9\\u5B66\\u6821\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 26\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: this.schoolChildRef,\n                className: \"school-tips  school-tips-hide \",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 91\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\u8BF7\\u8F93\\u51654-20\\u4F4D\\u7684\\u4E2D\\u6587\\u6216\\u80055-50\\u4F4D\\u7684\\u5B57\\u6BCD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 230,\n                  columnNumber: 102\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"section\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 20\n                }, this), \"\\u5B66\\u6BB5\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DropDowm, {\n                data: section,\n                pubName: \"sectionValue\",\n                liValue: \"section\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"grade\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 241,\n                  columnNumber: 20\n                }, this), \"\\u5E74\\u7EA7\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DropDowm, {\n                data: grade,\n                pubName: \"gradeValue\",\n                liValue: \"grade\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"class-name\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 247,\n                  columnNumber: 20\n                }, this), \"\\u73ED\\u7EA7\\u540D\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                onChange: classInptChange,\n                ref: this.classRef,\n                type: \"text\",\n                name: \"\",\n                id: \"\",\n                placeholder: \"\\u8BF7\\u8F93\\u5165\\u73ED\\u7EA7\\u540D\\u79F0\\uFF0C\\u965020\\u5B57\\u7B26\\uFF0C\\u4E0D\\u652F\\u6301\\u8F93\\u5165_\\u548C%\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                ref: this.classChildRef,\n                className: \"course-tips  course-tips-hide\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 89\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"\\u965020\\u5B57\\u7B26\\uFF0C\\u4E0D\\u652F\\u6301\\u8F93\\u5165_\\u548C%' \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 248,\n                  columnNumber: 100\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 246,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"class-type\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                children: \"\\u7C7B\\u578B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SingleBox, {\n                data: classType,\n                singleBoxName: \"classType\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"exit-permissions\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                children: \"\\u9000\\u51FA\\u6743\\u9650\\u8BBE\\u7F6E\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(SingleBox, {\n                data: exitPermissions,\n                singleBoxName: \"exitPermissions\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 260,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: saveData,\n              children: \"\\u4FDD\\u5B58\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"confirm-Window\",\n            style: {\n              display,\n              width,\n              height\n            },\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"confirm-body\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"confirm-content\",\n                children: \"\\u6DFB\\u52A0\\u73ED\\u7EA7\\u6210\\u529F\\uFF01\\uFF01\\uFF01\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"btns\",\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: backlCass,\n                  href: \"/\",\n                  className: \"btn-back\",\n                  children: \"\\u8FD4\\u56DE\\u6211\\u7684\\u73ED\\u7EA7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  onClick: continueClick,\n                  href: \"/\",\n                  className: \"btn-continue\",\n                  children: \"\\u7EE7\\u7EED\\u6DFB\\u52A0\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 272,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["C:/Users/郭晓飞/Desktop/Edu/Education_nformation_platform/src/page/Set/Class/Create/index.jsx"],"names":["React","Component","PubSub","addClass","deleClass","BackClassBtn","SingleBox","DropDowm","CreateClass","state","newClass","students","headmaster","schoolIstrue","classIstrue","display","width","height","schoolRef","createRef","schoolChildRef","classRef","classChildRef","schoolInptChange","current","value","props","setSchoolValue","reg","RegExp","str","replace","reslt","test","Boolean","school","setState","classInptChange","setClassValue","course","saveData","e","preventDefault","createClass","dropDowm","section","grade","singleBox","classType","exitPermissions","resl","alert","undefined","timer","setInterval","view","innerWidth","innerHeight","console","log","backlCass","push","history","clearInterval","continueClick","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport PubSub from 'pubsub-js'\r\n\r\nimport {\r\n  addClass,\r\n  deleClass,\r\n} from '../../../../func/toggleClass'\r\nimport BackClassBtn from '../../../../components/content/BackClassBtn'\r\nimport SingleBox from '../../../../containers/SingleBox'\r\nimport DropDowm from '../../../../containers/DropDowm'\r\nimport './css/index.css'\r\n\r\nexport default class CreateClass extends Component {\r\n\r\n  state = {\r\n    newClass: { students: 0, headmaster: '田小雨', },\r\n    schoolIstrue: false,//学校inpt框输入内容是否合法\r\n    classIstrue: false,//课程inpt框输入内容是否合法\r\n    display: '',\r\n    width: '',\r\n    height: ''\r\n  }\r\n\r\n  // ref 容器\r\n  schoolRef = React.createRef()\r\n  schoolChildRef = React.createRef()\r\n  classRef = React.createRef()\r\n  classChildRef = React.createRef()\r\n\r\n  // componentDidMount(e) {\r\n  //   // const { width, height } = this.state\r\n  //   console.log(e);\r\n  //   setInterval(() => {\r\n\r\n  //   }, 100);\r\n  //   // this.setState({ width: e.view.innerWidth })\r\n  //   // this.setState({ height: e.view.innerHeight })\r\n  // }\r\n\r\n  // school onChange的回调\r\n  schoolInptChange = () => {\r\n    const {\r\n      schoolRef,\r\n      schoolRef: { current: { value } },\r\n      schoolChildRef,\r\n      props: { setSchoolValue }\r\n\r\n    } = this\r\n    const reg = new RegExp('^[\\u4e00-\\u9fa5 ]{4,20}$|^[A-z ]{5,50}$', 'g')\r\n    let str = value\r\n    // 去除中间多余的空格\r\n    str = str.replace(/\\s{2,}/g, \" \")\r\n    // 去除首尾的空格\r\n    str = str.replace(/^\\s*|\\s*$/g, \"\")\r\n    // 纠正非法输入\r\n    schoolRef.current.value = str\r\n\r\n    // console.log(schoolRef.current.value);\r\n    const reslt = reg.test(str)\r\n    if (!Boolean(reslt)) {\r\n      // 显示输入错误提示\r\n      deleClass(schoolChildRef.current, 'school-true-tips')\r\n      deleClass(schoolChildRef.current, 'school-tips-hide')\r\n      setSchoolValue({ school: value })//表单验证 错误名称\r\n      // 更改旗帜\r\n      this.setState({ schoolIstrue: false })\r\n    } else {\r\n      // 显示正确图标\r\n      // deleClass(schoolChildRef.current, 'school-tips-false')\r\n      addClass(schoolChildRef.current, 'school-true-tips')\r\n\r\n      // 将数据保存在store\r\n      setSchoolValue({ school: value })\r\n      // 更改旗帜\r\n      this.setState({ schoolIstrue: true })\r\n\r\n    }\r\n  }\r\n  //class-name onChange的回调\r\n  classInptChange = () => {\r\n    const {\r\n      classRef, classRef: { current: { value } },\r\n      classChildRef,\r\n      props: { setClassValue }\r\n    } = this\r\n    const reg = /^[\\u4e00-\\u9fa5A-z0-9 ]{5,20}$/g\r\n    let str = value\r\n\r\n    // 去除中间多余的空格\r\n    str = str.replace(/\\s{2,}/g, \" \")\r\n    // 去除首尾的空格\r\n    str = str.replace(/^\\s*|\\s*$/g, \"\")\r\n    //去除_和%\r\n    str = str.replace(/[_%]/g, '')\r\n    // 纠正非法输入\r\n    classRef.current.value = str\r\n    const reslt = reg.test(str)\r\n    if (!reslt) {\r\n      // 显示输入错误提示\r\n      deleClass(classChildRef.current, 'course-tips-true')\r\n      deleClass(classChildRef.current, 'course-tips-hide')\r\n      setClassValue({ course: value })//表单验证 错误名称\r\n      this.setState({ classIstrue: false })\r\n    } else {\r\n      // 显示正确图标\r\n      // deleClass(classChildRef.current, 'course-tips-false')\r\n      addClass(classChildRef.current, 'course-tips-true')\r\n      setClassValue({ course: value })\r\n      this.setState({ classIstrue: true })\r\n    }\r\n  }\r\n\r\n  // 点击保存按钮的回调\r\n  saveData = (e) => {\r\n    // 取消按钮默认点击事件\r\n    e.preventDefault()\r\n    // console.log(this.props)\r\n    const {\r\n      props: {\r\n        createClass,\r\n        createClass: { school, course },\r\n        dropDowm,\r\n        dropDowm: { section, grade },\r\n        singleBox, singleBox: { classType, exitPermissions },\r\n\r\n      },\r\n      state: { newClass, schoolIstrue, classIstrue },\r\n      schoolRef,\r\n      classRef,\r\n      schoolChildRef,\r\n      classChildRef,\r\n\r\n    } = this\r\n\r\n    const resl = { ...newClass, ...createClass, ...singleBox, ...dropDowm }\r\n    this.setState({ newClass: resl }, () => {\r\n      // console.log(this.state.newClass);\r\n      // console.log(school);\r\n      // console.log(course);\r\n      // console.log(section);\r\n      // console.log(grade);\r\n      // console.log(classType);\r\n      // console.log(exitPermissions);\r\n\r\n      // 表单验证\r\n      if (!schoolIstrue) {\r\n        alert(`学校名称 ${school === undefined ? '为空' : `${school}不正确`} 请重新输入`)\r\n      } else if (section === undefined) {\r\n        alert('请选择学段')\r\n      } else if (grade === undefined) {\r\n        alert('请选择年级')\r\n      } else if (!classIstrue) {\r\n        alert(`班级名称 ${course === undefined ? '为空' : `${course}不正确`} 请重新输入`)\r\n      } else if (classType === undefined) {\r\n        alert('请选择班级类型')\r\n      } else if (exitPermissions === undefined) {\r\n        alert('退出权限未设置')\r\n      } else {\r\n        // PubSub.publish('createClass', this.state.newClass)\r\n        schoolRef.current.value = ''\r\n        classRef.current.value = ''\r\n\r\n\r\n        addClass(classChildRef.current, 'course-tips-hide')\r\n        addClass(schoolChildRef.current, 'school-tips-hide')\r\n        this.setState({ display: \"block\" })\r\n\r\n        this.timer = setInterval(() => {\r\n          this.setState({ width: e.view.innerWidth })\r\n          this.setState({ height: e.view.innerHeight })\r\n        }, 100);\r\n\r\n        console.log(school, course);\r\n      }\r\n\r\n\r\n    })\r\n\r\n  }\r\n\r\n  backlCass = (e) => {\r\n    e.preventDefault()\r\n    const { push } = this.props.history\r\n    push('/class')\r\n\r\n    // 停止计时器\r\n    clearInterval(this.timer)\r\n  }\r\n  continueClick = (e) => {\r\n    const {\r\n      setClassValue,\r\n      setSchoolValue\r\n    } = this.props\r\n    e.preventDefault()\r\n    this.setState({ display: 'none' })\r\n    setSchoolValue({ school: undefined })\r\n    setClassValue({ course: undefined })\r\n    console.log(school, course);\r\n\r\n    // 停止计时器\r\n    clearInterval(this.timer)\r\n\r\n  }\r\n\r\n  render() {\r\n    const classType = ['行政班', '教学班']\r\n    const exitPermissions = ['允许退出', '通知班级管理员审核后退出', '禁止退出']\r\n    const grade = ['年级', '一年级', '二年级', '三年级', '四年级']\r\n    const section = ['学段', '小学', '初中', '高中', '大学']\r\n    const { saveData, classInptChange, schoolInptChange, backlCass, continueClick, state: { display, width, height } } = this\r\n    return (\r\n      <div>\r\n        <div className='class-create-totabar'>\r\n          {/* 顶部导航 */}\r\n          <div className=\"contenter-top-nav-bar\">\r\n            <div className=\"route-title\">\r\n              <h2 >我的班级</h2>\r\n            </div>\r\n            {/* <button className='creat-class'>创建班级</button> */}\r\n            <BackClassBtn />\r\n          </div>\r\n\r\n          <div className=\"class-create-bar\">\r\n            <p className='create-tip'>尊敬的<span>老师(刘老师)</span>，请填写班级信息：</p>\r\n            <form action=\"\">\r\n\r\n              {/* 输入学校 */}\r\n              <div className='school'>\r\n                <i>学校</i><input ref={this.schoolRef} onChange={schoolInptChange} type=\"text\" placeholder='请选择学校' />\r\n                <div ref={this.schoolChildRef} className='school-tips  school-tips-hide '><div></div><p>请输入4-20位的中文或者5-50位的字母</p></div>\r\n              </div>\r\n\r\n              {/* 选择选段 */}\r\n              <div className=\"section\">\r\n                <i><span>*</span>学段</i>\r\n                <DropDowm data={section} pubName='sectionValue' liValue='section' />\r\n              </div>\r\n\r\n              {/* 选择年级 */}\r\n              <div className=\"grade\">\r\n                <i><span>*</span>年级</i>\r\n                <DropDowm data={grade} pubName='gradeValue' liValue='grade' />\r\n              </div>\r\n\r\n              {/* 输入班级名 */}\r\n              <div className='class-name'>\r\n                <i><span>*</span>班级名</i><input onChange={classInptChange} ref={this.classRef} type=\"text\" name=\"\" id=\"\" placeholder='请输入班级名称，限20字符，不支持输入_和%' />\r\n                <div ref={this.classChildRef} className='course-tips  course-tips-hide'><div></div><p>限20字符，不支持输入_和%' </p></div>\r\n              </div>\r\n\r\n              {/* 选择类型 */}\r\n              <div className='class-type'>\r\n                <i>类型</i>\r\n                <SingleBox data={classType} singleBoxName='classType' />\r\n              </div>\r\n\r\n              {/* 退出权限设置 */}\r\n              <div className='exit-permissions'>\r\n                <i>退出权限设置</i>\r\n                <SingleBox data={exitPermissions} singleBoxName='exitPermissions' />\r\n              </div>\r\n              {/* 保存按钮 */}\r\n              <button onClick={saveData}>保存</button>\r\n\r\n\r\n            </form>\r\n            <div className=\"confirm-Window\" style={{ display, width, height }}>\r\n              <div className=\"confirm-body\" >\r\n                <div className=\"confirm-content\">添加班级成功！！！</div>\r\n                <div className=\"btns\">\r\n                  <a onClick={backlCass} href=\"/\" className=\"btn-back\" >返回我的班级</a>\r\n                  <a onClick={continueClick} href=\"/\" className=\"btn-continue\"  >继续添加</a>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}